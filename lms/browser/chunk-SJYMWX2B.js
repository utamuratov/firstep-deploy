import{Fa as d,Ga as T,Ha as E,Ia as s,Ja as u,Ka as f,La as P,Ma as m,Pa as v,Qa as _,Ra as y,Sa as V,T as o,U as r,Va as b,ma as h,oa as a,xa as w,za as C}from"./chunk-PEUGTVOM.js";var k=["player"],F=["playerWrapper"];function M(p,t){p&1&&f(0,"span",6)}function S(p,t){p&1&&f(0,"span",7)}var g=class p{videoSrc="";videoRef;wrapperRef;isPlaying=!1;isFullscreen=!1;volume=.5;currentTime="0:00";duration="0:00";controlsVisible=!0;hideTimeout;get videoElement(){return this.videoRef?.nativeElement}ngAfterViewInit(){this.videoElement.volume=this.volume,this.startHideTimer()}togglePlay(){let t=this.videoElement;t.paused?(t.play(),this.isPlaying=!0):(t.pause(),this.isPlaying=!1)}updateProgress(){this.currentTime=this.formatTime(this.videoElement.currentTime)}updateDuration(){this.duration=this.formatTime(this.videoElement.duration)}seekTo(t){let n=t.target;this.videoElement.currentTime=parseFloat(n.value)}setVolume(t){let n=t.target;this.volume=parseFloat(n.value),this.videoElement.volume=this.volume}toggleFullscreen(){let t=this.wrapperRef.nativeElement;document.fullscreenElement?document.exitFullscreen():t.requestFullscreen()}onFullscreenChange(){this.isFullscreen=!!document.fullscreenElement}handleMouseMove(){this.controlsVisible=!0,clearTimeout(this.hideTimeout),this.startHideTimer()}startHideTimer(){this.hideTimeout=setTimeout(()=>{this.controlsVisible=!1},2500)}formatTime(t){let n=Math.floor(t/60),e=Math.floor(t%60).toString().padStart(2,"0");return`${n}:${e}`}static \u0275fac=function(n){return new(n||p)};static \u0275cmp=w({type:p,selectors:[["app-custom-video-player"]],viewQuery:function(n,e){if(n&1&&(v(k,5),v(F,5)),n&2){let i;_(i=y())&&(e.videoRef=i.first),_(i=y())&&(e.wrapperRef=i.first)}},inputs:{videoSrc:"videoSrc"},decls:15,vars:13,consts:[["playerWrapper",""],["player",""],[1,"bg-black","rounded-xl","overflow-hidden","shadow-lg","relative","w-full","group",3,"fullscreenchange","mousemove"],[1,"w-full","cursor-pointer",3,"click","dblclick","timeupdate","loadedmetadata","ended","src"],[1,"absolute","bottom-0","left-0","w-full","px-4","py-3","flex","flex-col","sm:flex-row","items-center","sm:justify-between","space-y-2","sm:space-y-0","transition-opacity","duration-300","bg-black/70","text-white"],[1,"text-xl","mr-4",3,"click"],[1,"icon-pause"],[1,"icon-play"],[1,"flex-1","flex","items-center","space-x-3","w-full"],[1,"text-sm","text-gray-300","min-w-[60px]"],["type","range","min","0",1,"flex-1","h-1","bg-blue-600","rounded-lg","cursor-pointer",3,"input","max","value"],["type","range","min","0","max","1","step","0.01",1,"w-24","ml-4","h-1","bg-gray-500","rounded-lg","cursor-pointer",3,"input","value"],[1,"ml-4","text-lg","hover:text-blue-400","transition",3,"click"]],template:function(n,e){if(n&1){let i=P();s(0,"div",2,0),m("fullscreenchange",function(){return o(i),r(e.onFullscreenChange())})("mousemove",function(){return o(i),r(e.handleMouseMove())}),s(2,"video",3,1),m("click",function(){return o(i),r(e.togglePlay())})("dblclick",function(){return o(i),r(e.toggleFullscreen())})("timeupdate",function(){return o(i),r(e.updateProgress())})("loadedmetadata",function(){return o(i),r(e.updateDuration())})("ended",function(){return o(i),r(e.isPlaying=!1)}),u(),s(4,"div",4)(5,"button",5),m("click",function(){return o(i),r(e.togglePlay())}),C(6,M,1,0,"span",6)(7,S,1,0,"span",7),u(),s(8,"div",8)(9,"span",9),V(10),u(),s(11,"input",10),m("input",function(c){return o(i),r(e.seekTo(c))}),u()(),s(12,"input",11),m("input",function(c){return o(i),r(e.setVolume(c))}),u(),s(13,"button",12),m("click",function(){return o(i),r(e.toggleFullscreen())}),V(14," \u26F6 "),u()()()}n&2&&(a(2),d("src",e.videoSrc,h),a(2),T("opacity-0",!e.controlsVisible)("pointer-events-none",!e.controlsVisible)("opacity-100",e.controlsVisible),a(2),E(e.isPlaying?6:7),a(4),b("",e.currentTime," / ",e.duration,""),a(),d("max",e.videoElement?e.videoElement.duration:0)("value",e.videoElement?e.videoElement.currentTime:0),a(),d("value",e.volume))},encapsulation:2})};export{g as a};
