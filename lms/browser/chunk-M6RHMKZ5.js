import{$a as a,Ga as h,La as w,Sa as c,Ua as C,W as o,X as r,Xa as T,_a as s,eb as E,fb as m,lb as v,mb as _,nb as y,ob as p,rb as P,ta as g,va as u}from"./chunk-TG6EHF7F.js";var b=["player"],F=["playerWrapper"];function k(d,t){d&1&&(s(0,"span",6),p(1,"\u23F8\uFE0F"),a())}function S(d,t){d&1&&(s(0,"span",7),p(1,"\u25B6\uFE0F"),a())}var V=class d{videoSrc="";videoRef;wrapperRef;isPlaying=!1;isFullscreen=!1;volume=.5;currentTime="0:00";duration="0:00";controlsVisible=!0;hideTimeout;get videoElement(){return this.videoRef?.nativeElement}ngAfterViewInit(){this.videoElement.volume=this.volume,this.startHideTimer()}togglePlay(){let t=this.videoElement;t.paused?(t.play(),this.isPlaying=!0):(t.pause(),this.isPlaying=!1)}updateProgress(){this.currentTime=this.formatTime(this.videoElement.currentTime)}updateDuration(){this.duration=this.formatTime(this.videoElement.duration)}seekTo(t){let n=t.target;this.videoElement.currentTime=parseFloat(n.value)}setVolume(t){let n=t.target;this.volume=parseFloat(n.value),this.videoElement.volume=this.volume}toggleFullscreen(){let t=this.wrapperRef.nativeElement;document.fullscreenElement?document.exitFullscreen():t.requestFullscreen()}onFullscreenChange(){this.isFullscreen=!!document.fullscreenElement}handleMouseMove(){this.controlsVisible=!0,clearTimeout(this.hideTimeout),this.startHideTimer()}startHideTimer(){this.hideTimeout=setTimeout(()=>{this.controlsVisible=!1},2500)}formatTime(t){let n=Math.floor(t/60),e=Math.floor(t%60).toString().padStart(2,"0");return`${n}:${e}`}static \u0275fac=function(n){return new(n||d)};static \u0275cmp=h({type:d,selectors:[["app-custom-video-player"]],viewQuery:function(n,e){if(n&1&&(v(b,5),v(F,5)),n&2){let i;_(i=y())&&(e.videoRef=i.first),_(i=y())&&(e.wrapperRef=i.first)}},inputs:{videoSrc:"videoSrc"},decls:15,vars:13,consts:[["playerWrapper",""],["player",""],[1,"bg-black","rounded-xl","overflow-hidden","shadow-lg","relative","w-full","group",3,"fullscreenchange","mousemove"],[1,"w-full","cursor-pointer",3,"click","dblclick","timeupdate","loadedmetadata","ended","src"],[1,"absolute","bottom-0","left-0","w-full","px-4","py-3","flex","flex-col","sm:flex-row","items-center","sm:justify-between","space-y-2","sm:space-y-0","transition-opacity","duration-300","bg-black/70","text-white"],[1,"text-xl","mr-4",3,"click"],[1,"icon-pause"],[1,"icon-play"],[1,"flex-1","flex","items-center","space-x-3","w-full"],[1,"text-sm","text-gray-300","min-w-[60px]"],["type","range","min","0",1,"flex-1","h-1","bg-blue-600","rounded-lg","cursor-pointer",3,"input","max","value"],["type","range","min","0","max","1","step","0.01",1,"w-24","ml-4","h-1","bg-gray-500","rounded-lg","cursor-pointer",3,"input","value"],[1,"ml-4","text-lg","hover:text-blue-400","transition",3,"click"]],template:function(n,e){if(n&1){let i=E();s(0,"div",2,0),m("fullscreenchange",function(){return o(i),r(e.onFullscreenChange())})("mousemove",function(){return o(i),r(e.handleMouseMove())}),s(2,"video",3,1),m("click",function(){return o(i),r(e.togglePlay())})("dblclick",function(){return o(i),r(e.toggleFullscreen())})("timeupdate",function(){return o(i),r(e.updateProgress())})("loadedmetadata",function(){return o(i),r(e.updateDuration())})("ended",function(){return o(i),r(e.isPlaying=!1)}),a(),s(4,"div",4)(5,"button",5),m("click",function(){return o(i),r(e.togglePlay())}),w(6,k,2,0,"span",6)(7,S,2,0,"span",7),a(),s(8,"div",8)(9,"span",9),p(10),a(),s(11,"input",10),m("input",function(f){return o(i),r(e.seekTo(f))}),a()(),s(12,"input",11),m("input",function(f){return o(i),r(e.setVolume(f))}),a(),s(13,"button",12),m("click",function(){return o(i),r(e.toggleFullscreen())}),p(14," \u26F6 "),a()()()}n&2&&(u(2),c("src",e.videoSrc,g),u(2),C("opacity-0",!e.controlsVisible)("pointer-events-none",!e.controlsVisible)("opacity-100",e.controlsVisible),u(2),T(e.isPlaying?6:7),u(4),P("",e.currentTime," / ",e.duration,""),u(),c("max",e.videoElement?e.videoElement.duration:0)("value",e.videoElement?e.videoElement.currentTime:0),u(),c("value",e.volume))},encapsulation:2})};export{V as a};
