import{a as X,b as ie}from"./chunk-P6TFYC4H.js";import{a as oe}from"./chunk-QZGE4ZPE.js";import{a as ne}from"./chunk-Y2AVNMGT.js";import{a as ae,b as se}from"./chunk-NYRIM3NQ.js";import{a as q}from"./chunk-X5MQVGBP.js";import{b as h}from"./chunk-AIYLSF6A.js";import"./chunk-G6JUXHBF.js";import{b as Y,c as te}from"./chunk-UY2FQ6MC.js";import"./chunk-LXPRSSBN.js";import{a as re}from"./chunk-PWS5FQLC.js";import{d as Z,f as ee}from"./chunk-MIRYO6HP.js";import"./chunk-O2BGHH3Y.js";import"./chunk-EBH5WAC4.js";import"./chunk-2WU6MFP7.js";import"./chunk-OBQI4AT4.js";import"./chunk-AAYNF2LC.js";import"./chunk-O2RJDLPA.js";import"./chunk-E5I4EK5F.js";import"./chunk-LHBSFRJO.js";import"./chunk-WMQMVF6V.js";import"./chunk-R72LOZJZ.js";import{i as U}from"./chunk-OLD4CQRK.js";import{c as T,f as z,g as H,h as W,i as S,k as R,n as A,q as J,v as K,z as b}from"./chunk-GWOLZENT.js";import"./chunk-UM7JX4F5.js";import"./chunk-ZKNP4OTC.js";import{$b as N,Bb as k,Cb as O,Db as w,Eb as e,Fb as t,Gb as u,Kb as D,Nb as c,Ob as _,Wb as a,Xb as d,Ya as r,Yb as V,ac as $,bb as g,bc as j,cc as B,dc as F,fc as Q,hb as y,ja as G,ka as P,la as C,lb as x,ma as v,ub as m,wb as E}from"./chunk-63MFA3PC.js";import{a as I,b as L}from"./chunk-RJNTS35V.js";var M=class s extends ie{constructor(n,o,i){super(n);this.questionGroupService=n;this.languageService=o;this.categoryService=i}formGroup=new W({id:new S(null),categoryId:new S(null,[T.required]),languagesId:new S(null,[T.required]),name:ae()});patchValue(n){this.formGroup.patchValue({categoryId:n.category.id,languagesId:n.languages.map(o=>o.id),name:n.name,id:n.id})}get rowValue(){return L(I({},super.rowValue),{name:se(this.formGroup.controls.name.getRawValue())})}static \u0275fac=function(o){return new(o||s)(g(h),g(oe),g(q))};static \u0275cmp=y({type:s,selectors:[["question-group-form"]],features:[B([q]),x],decls:14,vars:3,consts:[[1,"drawer-form",3,"formGroup"],[1,"controls"],[1,"control"],["for","categoryId"],["formControlName","categoryId","id","categoryId","label","name","value","id",3,"requestFunc"],["for","languagesId"],["label","name","value","id","id","languagesId","formControlName","languagesId",3,"requestFunc"],["groupName","name"],[1,"actions"],["label","Cancel","variant","outlined","severity","secondary",3,"onClick"],["label","Save","variant","outlined",3,"onClick"]],template:function(o,i){o&1&&(e(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),a(4,"Category"),t(),u(5,"entity-select",4),t(),e(6,"div",2)(7,"label",5),a(8,"Guruh tillari"),t(),u(9,"entity-multi-select",6),t(),u(10,"name-translates",7),t(),e(11,"div",8)(12,"p-button",9),c("onClick",function(){return i.onClose.emit()}),t(),e(13,"p-button",10),c("onClick",function(){return i.save()}),t()()()),o&2&&(m("formGroup",i.formGroup),r(5),m("requestFunc",i.categoryService.query),r(4),m("requestFunc",i.languageService.query))},dependencies:[K,R,z,H,A,J,b,Y,ee,Z],encapsulation:2})};var de=()=>["/dashboard","question","upload"],le=(s,p)=>({questionGroupId:s,questionType:p}),ge=()=>["/dashboard","question"],_e=(s,p)=>p.questionType;function fe(s,p){if(s&1&&(e(0,"tr")(1,"td"),a(2),t(),e(3,"td"),a(4),t(),e(5,"td"),a(6),t(),e(7,"td")(8,"div",22),u(9,"p-button",23)(10,"p-button",24),t()()()),s&2){let n=p.$implicit,o=p.$index,i=_().$implicit,l=_();r(2),d(o+1),r(2),d(l.questionTypes[n.questionType-1]),r(2),d(n.count),r(3),m("routerLink",F(7,de))("queryParams",Q(8,le,i.id,n.questionType)),r(),m("routerLink",F(11,ge))("queryParams",Q(12,le,i.id,n.questionType))}}function Ce(s,p){if(s&1){let n=D();e(0,"div",6)(1,"div",9)(2,"div",10)(3,"button",11),c("click",function(){let i=G(n).$index,l=_();return P(l.openGroup(i))}),u(4,"i",12),t(),e(5,"div",13)(6,"div",14)(7,"span",15),a(8,"Guruh nomi"),t(),e(9,"span",16),C(),e(10,"svg",17),u(11,"circle",18),t()(),v(),e(12,"span"),a(13),t()(),e(14,"div",14)(15,"span",15),a(16,"Category"),t(),e(17,"span",16),C(),e(18,"svg",17),u(19,"circle",18),t()(),v(),e(20,"span"),a(21),t()()()(),e(22,"div",14)(23,"span",15),a(24,"Jami savollar soni"),t(),e(25,"span",16),C(),e(26,"svg",17),u(27,"circle",18),t()(),v(),e(28,"span"),a(29),t()(),e(30,"div",14)(31,"span",15),a(32,"Savol tillari"),t(),e(33,"span",16),C(),e(34,"svg",17),u(35,"circle",18),t()(),v(),e(36,"span"),a(37),t()(),e(38,"div",14)(39,"p-button",19),c("onClick",function(){let i=G(n).$implicit,l=_();return P(l.clickEditEntity(i))}),t()()(),e(40,"div",20)(41,"table",21)(42,"thead")(43,"tr")(44,"th"),a(45,"\u2116"),t(),e(46,"th"),a(47,"Savol turi"),t(),e(48,"th"),a(49,"Savollar soni"),t(),e(50,"th"),a(51,"Amallar"),t()()(),e(52,"tbody"),O(53,fe,11,15,"tr",null,_e),t()()()()}if(s&2){let n=p.$implicit,o=p.$index,i=_();r(3),E("collapse-opened-btn",i.opened===o),r(10),d(n.name),r(8),d(n.category.name),r(8),V("",n.questionsCount," ta"),r(8),d(i.getCategories(n)),r(3),E("collapse-opened",o===i.opened),r(13),w(n.countInfos)}}var pe=class s extends ne{constructor(n){super(n);this.questionGroupService=n}filterCols=[{value:"id",label:"id"}];questionTypes=Object.values(re);opened;getCategories(n){return n.languages.map(o=>o.name).join(", ")}openGroup(n){this.opened=this.opened===n?null:n}static \u0275fac=function(o){return new(o||s)(g(h))};static \u0275cmp=y({type:s,selectors:[["ng-component"]],features:[x],decls:12,vars:5,consts:[[1,"table-page"],[1,"text-2xl"],[1,"table-actions"],[3,"onChange","cols"],["label","Savol guruh qo'shish","icon","pi pi-plus",3,"onClick"],[1,"question-groups"],[1,"question-group"],["header","Question group form","position","right",3,"visibleChange","dismissible","closeOnEscape","visible"],[3,"onSubmit","onClose","editEntityId"],[1,"header"],[1,"column","name"],[1,"collapse-button",3,"click"],[1,"pi","pi-angle-left"],[2,"display","flex","flex-direction","column","gap","5px"],[1,"column"],[1,"text-primary-500"],[1,"ellipse"],["xmlns","http://www.w3.org/2000/svg","width","6","height","6","viewBox","0 0 6 6","fill","none"],["cx","3","cy","3","r","3","fill","#989898"],["icon","pi pi-pen-to-square","variant","outlined","severity","secondary",3,"onClick"],[1,"body"],[1,"n-table"],[1,"flex","gap-2"],["icon","pi pi-upload","variant","outlined","severity","secondary","size","small",3,"routerLink","queryParams"],["icon","pi pi-eye","variant","outlined","severity","secondary","size","small",3,"routerLink","queryParams"]],template:function(o,i){o&1&&(e(0,"div",0)(1,"h1",1),a(2,"Savol guruhlari"),t(),e(3,"div",2)(4,"table-filter",3),c("onChange",function(f){return i.onFilterChange(f)}),t(),e(5,"div")(6,"p-button",4),c("onClick",function(){return i.openDrawer.set(!0)}),t()()(),e(7,"div",5),O(8,Ce,55,8,"div",6,k),t()(),e(10,"p-drawer",7),j("visibleChange",function(f){return $(i.openDrawer,f)||(i.openDrawer=f),f}),e(11,"question-group-form",8),c("onSubmit",function(){return i.onSubmit()})("onClose",function(){return i.openDrawer.set(!1)}),t()()),o&2&&(r(4),m("cols",i.filterCols),r(4),w(i.data()),r(2),m("dismissible",!1)("closeOnEscape",!1),N("visible",i.openDrawer),r(),m("editEntityId",i.editEntityId()))},dependencies:[b,te,X,M,U],styles:[".question-groups[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;width:100%}.question-groups[_ngcontent-%COMP%]   .question-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;border:1px solid #ddd;border-radius:20px;background-color:#fff;padding:16px 16px 16px 50px}.question-groups[_ngcontent-%COMP%]   .question-group[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between}.question-groups[_ngcontent-%COMP%]   .question-group[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.question-groups[_ngcontent-%COMP%]   .question-group[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.question-groups[_ngcontent-%COMP%]   .question-group[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.question-groups[_ngcontent-%COMP%]   .question-group[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .collapse-button[_ngcontent-%COMP%]{height:30px;width:30px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:.15s cubic-bezier(.4,0,.2,1);border-radius:50%;background-color:#f8f8f8}.question-groups[_ngcontent-%COMP%]   .question-group[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .collapse-opened-btn[_ngcontent-%COMP%]{transform:rotate(-90deg)}.question-groups[_ngcontent-%COMP%]   .question-group[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{overflow:hidden;max-height:0;transition:max-height .8s;border-radius:10px;font-size:14px}.question-groups[_ngcontent-%COMP%]   .question-group[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px!important}.question-groups[_ngcontent-%COMP%]   .question-group[_ngcontent-%COMP%]   .collapse-opened[_ngcontent-%COMP%]{max-height:500px;margin-top:10px}"]})};export{pe as QuestionGroupListComponent};
